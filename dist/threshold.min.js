/*
 *  threshold - v0.0.1
 *  manages page width change
 *  http://jqueryboilerplate.com
 *
 *  Made by Zeno Rocha
 *  Under MIT License
 */
!function(a,b,c,d){"use strict";function e(c){this._name=g,this._defaults=b[g].defaults,this.settings=a.extend({},this._defaults,c),f=this.settings.debug,f&&console.log("defaults",this._defaults),f&&console.log("settings",this.settings),this.init()}var f,g="Threshold";a.extend(e.prototype,{init:function(){var a=this;a.buildCache(),a.bindEvents(),a.callbacks={},a.set()},destroy:function(){var a=this;a.unbindEvents(),a.unset(),a.window.removeData()},buildCache:function(){var c=this;c.window=a(b),c.$html=a("html")},bindEvents:function(){var a=this;a.window.on("resize."+a._name,function(){f&&console.log("----------- resize."+a._name),a.reset()})},unbindEvents:function(){var a=this;a.window.off("."+a._name)},reset:function(){f&&console.log("########### reset()");var a=this;a.unset(!0)},unset:function(b){f&&console.log("########### unset()");var c=this,d=c.$html.attr("class").split(" ").filter(function(a){return 0!==a.lastIndexOf(c.settings["class"],0)});c.$html.attr("class",a.trim(d.join(" "))),b&&c.set()},set:function(){f&&console.log("########### set()");var b=this;a(".width-full").hide(),b.width=a(".width-fixed").eq(0).css("width"),a(".width-full").show();var c=b.settings.widths;for(var d in c)if(c.hasOwnProperty(d)){var e=d,g=c[d];b.width===g&&(b.state=e)}f&&console.log("width:",b.width),f&&console.log("previousState:",b.previousState),f&&console.log("state:",b.state),f&&console.log("callbacks:",b.callbacks),b.$html.addClass(b.settings["class"]+"-"+b.state),b.previousState!==b.state?b.onChange.call(b):b.previousState=b.state},onChange:function(){f&&console.log("########### onChange()");var b=this;f&&console.log("state: "+b.state),b.callbacks[b.state]!==d&&(f&&console.log(b.callbacks[b.state]),a.each(b.callbacks[b.state],function(a,b){"function"==typeof b&&b.call()})),b.previousState=b.state},after:function(a,b){f&&console.log("########### after()");var c=this;c.settings.widths.hasOwnProperty(a)&&(c.callbacks[a]===d&&(c.callbacks[a]=[]),c.callbacks[a].push(b)),f&&console.log(c.callbacks),a===c.state&&c.onChange.call(c)}}),b[g]=function(c){a.data(b,g)||a.data(b,g,new e(c))},b[g].defaults={"class":"window",widths:{mobile:"100%","x-small":"740px",small:"920px",medium:"1220px",large:"1360px","x-large":"1440px"},debug:!1}}(jQuery,window,document);